<!doctype html>
<!-- 3D Package-Creator - Copyright (C) 2022, TRMSC - https://trmsc1.wordpress.com/ -->
<!-- Licensed under the MIT license - http://www.opensource.org/licenses/mit-license.php -->
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3d-package-creator</title>

    <link rel="stylesheet" href="./main.css">
    <link rel="stylesheet" href="./src/preview/style.css">

    <script src="./script.js"></script>  

    <script src="./src/file/jszip.js"></script>
    <script src="./src/file/jszip-utils.js"></script>
    <script src="./src/file/filesaver.js"></script>
    <script src="./src/file/makeglb.js"></script>
  
    <script src="./src/preview/arjs-studio-backend.min.js"></script>
    <script src="./src/preview/aframe.js"></script>
    <script src="./src/preview/file-select.js"></script>
    <script src="./src/preview/file-holder.js"></script>
    <script src="./src/preview/model-controller.js"></script>
    <script src="./src/preview/fileHelper.js"></script>
    <script src="./src/preview/fileTemplate.js"></script>
    <script src="./src/preview/fileHandler.js"></script>
    <script src="./src/preview/marker.js" defer></script>

  </head>
  <body onload="getYear();dropInit()">
    <h1>3D-PACKAGE-CREATOR</h1>
    <hr>
    <h2>Dieses Tool ist noch in der Entwicklung... ü§ì</h2>
    <div class="notice">
      <p>
        Ausstehend sind unter anderem die <b>√úberarbeitung der Oberfl√§che</b> sowie die <b>Dokumentation des Vorgehens</b>.<br>
      </p>
      <p>
        Dar√ºber hinaus sind aktuell <b>noch keine Einstellungsm√∂glichkeiten</b> vorhanden.<br>
        Anpassungen m√ºssen ggf. manuell √ºber die Datei "index.html" des erstellten zip-Archivs vorgenommen werden.
      </p>
      <br>
      <hr><hr>
    </div>
    <br>
    <div class="description">
      <h2>
        Allgemeine Informationen:
      </h2>
      <p>
        Der 3d-Package-Creator ist ein Tool zur Erstellung eines eigenst√§ndigen 3d-Modells.<br> 
        Der Inhalt des generierten zip-Archivs kann auf einem Webserver sowie innerhalb von Plattformen
        wie Moodle oder Wordpress gehostet werden.<br>
        Dabei werden alle notwendigen Abh√§ngigkeiten integriert,
        sodass keine externen Skripte geladen werden.
      </p>
      <p>
        F√ºr den 3d-Package-Creator wurden Teile der Javascript-Libraries
        <a target="_blank" href="https://github.com/mrdoob/three.js/">three.js</a>,
        <a target="_blank" href="https://github.com/Stuk/jszip">jszip</a> sowie
        <a target="_blank" href="https://github.com/Stuk/jszip-utils">jszip-utils</a>
        verwendet.<br>Vielen Dank an die Autor:innen!
      </p>
      <p>
        Ein gro√üer Dank gilt au√üerdem
        <a target="_blank" href="https://twitter.com/norbert_forster">Norbert Forster</a>
        f√ºr die Bereitstellung der three.js-Komponenten des Zielarchivs. 
      </p>
    </div>
    <br>
    <div class="description">
      <h2>
        Vorbereitung:
      </h2>  
      <p>
        Um mithilfe dieses Creators ein eigenst√§ndiges 3d-Paket zu erstellen, ist eine
        <a target="_blank" href="https://datei.wiki/extension/glb">glb-Datei</a>
        notwendig.<br>Im Folgenden wird eine Auswahl an M√∂glichkeiten aufgef√ºhrt, 
        um eine solche Datei zu finden oder zu erstellen.
      </p>   
      <p class="indivList">
        <a target="_blank" href="https://sketchfab.com/"><b>Sketchfab</b></a> bietet eine
        Auswahl an 3d-Modellen. Ein gro√üer Teil der Sammlung ist kostenlos sowie mit einer
        Download-M√∂glichkeit ausgestattet.<br>
        Die als <b>glTF</b> heruntergeladenen zip-Dateien k√∂nnen nicht direkt verwendet, sondern <b>m√ºssen zun√§chst
        umgewandelt werden</b>.*
      </p>
      <p class="indivList">
        F√ºr die <b>Umwandlung von glTF zu glb</b>* eignet sich der opensource-Konverter
        <a target="_blank" href="https://sbtron.github.io/makeglb/"><b>MakeGLB</b></a> hervorragend.<br>
        Die entpackte zip-Datei z.B. von <a target="_blank" href="https://sketchfab.com/">Sketchfab</a>
        wird als Ordner per Drag and Drop hineingezogen und die umgewandelte glp-Datei wird automatisch heruntergeladen.
      </p>
      <p class="indivList">
        Der browserbasierte <a target="_blank" href="https://threejs.org/editor/"><b>three.js-editor</b></a>
        bietet neben der Konvertierung viele M√∂glichkeiten der Bearbeitung und Erstellung von 3d-Modellen<br>
        √úber <b>"File - Import"</b> kann beispielsweise ein 
        <a target="_blank" href="https://sketchfab.com/">Sketchfab</a>-Archiv hochgeladen
        und anschlie√üend per <b>"File - Export GLB"</b> heruntergeladen werden.<br>
        Wichtig ist dabei, rechts die Einstellung <b>"Scene - Environment - Model Viewer"</b> vorzunehmen.<br>
        Der Editor bietet auch dar√ºber hinaus eine Vielfalt an M√∂glichkeiten, die im
        <a target="_blank" href="https://github.com/mrdoob/three.js/wiki/Editor-Manual">Manual</a>
        nachgelesen werden k√∂nnen.<br>Zur Vertiefung ist zudem die 
        <a target="blank" href="https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene">
        Dokumentation der gesamten three.js-Bibliothek</a> empfehlenswert.
      </p>
      <p class="indivList">
        Eine herausragende M√∂glichkeit, glb-Dateien zu konvertieren sowie selbst 3d-Modelle zu erstellen, 
        bietet au√üerdem das opensource-Programm <a target="_blank" href="https://www.blender.org/"><b>Blender</b></a>.
      </p>
      <sub style="font-style: italic;">
        * Aktuell kann der 3d Package Creator nur glb-Dateien verarbeiten.<br>Weitere Dateitypen wie
        glTF oder zip-Archive werden ggf. in einer folgenden Version aufgenommen.
      </sub>
    </div>

    <br>
    <h2>
      3d-Paket erstellen:
    </h2>
    <div id="files">
      <fieldset style="width: fit-content;">
        <legend>
          glb-Modell hochladen
        </legend>
        <input type="file" accept=".glb" id="upload" class="mxport" onchange="openFile(this);">
      </fieldset>
      <p></p>
      <div id="drop">
        <div class="area">
          <div id="drop_zone" ondragover="styleDragOver(event)" ondragleave="styleDragLeave(event)" ondrop="styleDragLeave(event)">
            <p>Ordner oder Dateien als glTF-Zusammenstellungen hier hineinziehen </p>
            <svg width="20pt" height="20pt" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <!-- MIT License. Copyright ¬© 2020‚Äìpresent Modulz (icons.modulz.app) -->
              <path d="M7.50005 1.04999C7.74858 1.04999 7.95005 1.25146 7.95005 1.49999V8.41359L10.1819 6.18179C10.3576 6.00605 10.6425 6.00605 10.8182 6.18179C10.994 6.35753 10.994 6.64245 10.8182 6.81819L7.81825 9.81819C7.64251 9.99392 7.35759 9.99392 7.18185 9.81819L4.18185 6.81819C4.00611 6.64245 4.00611 6.35753 4.18185 6.18179C4.35759 6.00605 4.64251 6.00605 4.81825 6.18179L7.05005 8.41359V1.49999C7.05005 1.25146 7.25152 1.04999 7.50005 1.04999ZM2.5 10C2.77614 10 3 10.2239 3 10.5V12C3 12.5539 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2239 12.2239 10 12.5 10C12.7761 10 13 10.2239 13 10.5V12C13 13.1041 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2239 2.22386 10 2.5 10Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path>
            </svg>
          </div>
          <div id="download">
            <a href="#" id="downloadLink"></a>
          </div>
        </div>
        <div>
          <ul id=list></ul>
        </div>
      </div>
      <div class="pages-content">
        <div class="pages-content-container">
            <div class="pages-content-element">
                <p id="content-error" class="error"></p>
            </div>
            <div id="content-preview" target="content-file">
                <file-holder></file-holder>
            </div>
        </div>
      </div>
      <p></p>
      <fieldset style="width: fit-content;">
        <legend>
          Paket herunterladen
        </legend>
        <input type="button" id="download" value="Eigenst√§ndiges 3d-Paket herunterladen" onclick="exportZip()">
      </fieldset>
    </div>



    <br>
    <div class="description">
      <h2>
        Einbinden:
      </h2>
      <p>
        Nachdem das 3d-Paket erstellt wurde, kann dieses auf einem <b>Webserver</b> eingebunden werden.<br>
        Zu beachten ist dabei nur, dass die Datei "index.html" angesteuert wird.
        Dies gilt auch f√ºr Systeme wie <b>Wordpress</b>.
      </p>
      <p>
        In <b>Moodle</b> kann das 3d-Modell ebenso besonders komfortabel eingebunden werden.<br> 
        Hierf√ºr wird die Datei im Bearbeitungsmodus per Drag and Drop in den Kurs gezogen und als Datei eingebunden.<br>
        Alternativ kann dieser Schritt auch √ºber die Aktivit√§t "Datei" umgesetzt werden.<br>
        Anschlie√üend wird das Archiv in den Aktivit√§tseinstellungen per Klick auf die Datei entpackt und kann
        anschlie√üend mit einem weiteren Klick gel√∂scht werden.<br>
        Bei den entpackten Elementen wird mit einem Klick auf die Datei "index.html" die Hauptdatei ausgew√§hlt.<br>
        Anschlie√üend kann das 3d-Modell ohne externe Abh√§ngigkeiten in der eigenen Lernplattform aufgerufen werden.
      </p>
    </div>
    <br>
    <hr style="margin-top: 20px;">
  </body>
  <footer style="bottom: auto; font-size: smaller;">
    &copy; <a target="_blank" href="https://trmsc1.wordpress.com/"> TRMSC </a><span id="year"></span>.
      Dieses Tool ist lizensiert unter der 
      <a target="_blank" href="http://www.opensource.org/licenses/mit-license.php">MIT Lizenz</a>.
      Hier geht es zur <a target="_blank" href="https://github.com/TRMSC/3d-package-creator">Projektseite</a>.
  </footer>
</html>
